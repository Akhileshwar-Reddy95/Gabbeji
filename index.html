<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Akhil â¤ï¸ Anubhuti</title>
  <meta name="description" content="A playful + grand Valentine surprise page" />

  <style>
    :root{
      --bg1:#0b0b14;
      --bg2:#19102a;
      --card: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --pink:#ff4fd8;
      --red:#ff3b5c;
      --gold:#ffcf66;
      --good:#38ef7d;
      --shadow: 0 14px 40px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      overflow-x:hidden;
      background: radial-gradient(1200px 700px at 20% 10%, rgba(255,79,216,.18), transparent 60%),
                  radial-gradient(1000px 600px at 90% 30%, rgba(255,59,92,.14), transparent 60%),
                  linear-gradient(160deg, var(--bg1), var(--bg2));
      min-height:100vh;
    }

    /* floating hearts background */
    .hearts{
      position:fixed; inset:0; pointer-events:none; opacity:.9;
      filter: drop-shadow(0 10px 20px rgba(0,0,0,.25));
    }
    .heart{
      position:absolute;
      font-size: 18px;
      animation: floatUp linear infinite;
      opacity: .0;
    }
    @keyframes floatUp{
      0%   { transform: translateY(30px) translateX(0) scale(.8) rotate(-8deg); opacity:0; }
      10%  { opacity:.65; }
      80%  { opacity:.65; }
      100% { transform: translateY(-120vh) translateX(120px) scale(1.35) rotate(10deg); opacity:0; }
    }

    header{
      position:sticky; top:0;
      backdrop-filter: blur(10px);
      background: rgba(10,10,20,.45);
      border-bottom:1px solid rgba(255,255,255,.08);
      z-index:50;
    }
    .nav{
      max-width:1100px; margin:0 auto;
      padding:12px 18px;
      display:flex; gap:10px; align-items:center; justify-content:space-between;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:800; letter-spacing:.2px;
    }
    .pill{
      font-size:12px;
      padding:6px 10px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      border-radius:999px;
      color:var(--muted);
    }
    .nav a{
      color:var(--muted); text-decoration:none;
      font-size:13px;
      padding:8px 10px;
      border-radius:10px;
      transition: .2s ease;
    }
    .nav a:hover{ background: rgba(255,255,255,.08); color:var(--text); }

    main{ max-width:1100px; margin:0 auto; padding:18px; }
    section{ margin: 22px 0 44px; }

    .hero{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:16px;
      align-items:stretch;
    }
    @media (max-width: 900px){
      .hero{ grid-template-columns: 1fr; }
    }

    .card{
      background: var(--card);
      border:1px solid var(--stroke);
      border-radius: 22px;
      box-shadow: var(--shadow);
    }
    .heroLeft{
      padding:26px 24px;
      position:relative;
      overflow:hidden;
    }
    .glow{
      position:absolute; inset:-60px -60px auto auto;
      width:220px; height:220px;
      background: radial-gradient(circle at 30% 30%, rgba(255,79,216,.55), transparent 65%);
      filter: blur(1px);
      transform: rotate(10deg);
    }
    h1{
      margin:0 0 10px;
      font-size:44px;
      line-height:1.05;
      letter-spacing:-.7px;
    }
    @media (max-width: 520px){
      h1{ font-size:36px; }
    }
    .sub{
      color:var(--muted);
      font-size:15px;
      line-height:1.6;
      max-width: 52ch;
    }
    .actions{
      margin-top:18px;
      display:flex; flex-wrap:wrap; gap:10px;
      align-items:center;
    }
    button, .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight:700;
      color: #0b0b14;
      transition: transform .15s ease, filter .15s ease, background .15s ease;
      user-select:none;
    }
    button:active{ transform: translateY(1px) scale(.99); }
    .btnPrimary{
      background: linear-gradient(135deg, var(--pink), var(--red));
      color: #0b0b14;
    }
    .btnGhost{
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.14);
      color: var(--text);
    }
    .btnGold{
      background: linear-gradient(135deg, var(--gold), #ffdca0);
    }
    .tiny{
      font-size:12px; color:var(--muted);
    }

    .heroRight{
      padding:22px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .mini{
      padding:16px;
      border-radius:18px;
      border:1px dashed rgba(255,255,255,.18);
      background: rgba(0,0,0,.18);
    }
    .miniTitle{ font-weight:800; margin:0 0 8px; }
    .miniText{ margin:0; color:var(--muted); line-height:1.6; font-size:13px; }

    .grid3{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width: 900px){ .grid3{ grid-template-columns: 1fr; } }
    .tile{
      padding:16px;
      border-radius:18px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
    }
    .tile h3{ margin:0 0 6px; }
    .tile p{ margin:0; color:var(--muted); font-size:13px; line-height:1.6; }

    .divider{
      height:1px; background: rgba(255,255,255,.1);
      margin: 18px 0;
    }

    .centerTitle{
      display:flex; align-items:end; justify-content:space-between; gap:10px;
      margin-bottom: 10px;
    }
    .centerTitle h2{
      margin:0;
      font-size:26px;
      letter-spacing:-.4px;
    }

    /* Quiz */
    .quizWrap{ padding:18px; }
    .q{
      padding:14px;
      border-radius:16px;
      background: rgba(0,0,0,.2);
      border:1px solid rgba(255,255,255,.1);
      margin:10px 0;
    }
    .q strong{ display:block; margin-bottom:8px; }
    .opts{ display:flex; flex-wrap:wrap; gap:8px; }
    .opt{
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.14);
      color:var(--text);
      padding:10px 12px;
      border-radius: 14px;
      font-weight:700;
      font-size:13px;
    }
    .opt.selected{
      background: rgba(56,239,125,.18);
      border-color: rgba(56,239,125,.35);
    }

    /* Gallery */
    .gallery{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
    }
    @media (max-width: 900px){ .gallery{ grid-template-columns: repeat(2, 1fr);} }
    .shot{
      position:relative;
      overflow:hidden;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      cursor:pointer;
      aspect-ratio: 1 / 1;
    }
    .shot img{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
      transform: scale(1.03);
      transition: transform .25s ease;
      filter: saturate(1.05) contrast(1.02);
    }
    .shot:hover img{ transform: scale(1.08); }

    /* Modal */
    .modal{
      position:fixed; inset:0;
      background: rgba(0,0,0,.72);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:999;
      padding:18px;
    }
    .modal.open{ display:flex; }
    .modalInner{
      max-width: 980px;
      width:100%;
      background: rgba(15,15,25,.92);
      border:1px solid rgba(255,255,255,.14);
      border-radius: 22px;
      overflow:hidden;
      box-shadow: var(--shadow);
      position:relative;
    }
    .modalInner img{
      width:100%;
      max-height: 80vh;
      object-fit:contain;
      display:block;
      background: rgba(0,0,0,.35);
    }
    .close{
      position:absolute; top:10px; right:10px;
      border-radius: 14px;
      padding:10px 12px;
      background: rgba(255,255,255,.1);
      border: 1px solid rgba(255,255,255,.14);
      color: var(--text);
      font-weight:800;
    }

    /* Reveal */
    .reveal{
      padding:22px;
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .reveal h2{ margin:0 0 10px; font-size:30px; }
    .big{
      font-size:16px;
      color: var(--muted);
      line-height:1.75;
      max-width: 62ch;
      margin: 0 auto 14px;
    }
    .secretBox{
      margin: 14px auto 0;
      max-width: 760px;
      padding: 16px;
      border-radius: 18px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      text-align:left;
    }
    .secretBox strong{ color: #fff; }
    .hint{ color: var(--muted); font-size: 12px; }

    footer{
      padding: 30px 18px 45px;
      text-align:center;
      color: rgba(255,255,255,.55);
      font-size:12px;
    }

    /* The â€œNoâ€ button trick */
    .noBtn{
      position:relative;
    }

    /* Confetti canvas */
    #confetti{
      position:fixed; inset:0;
      pointer-events:none;
      z-index: 998;
    }
  </style>
</head>

<body>
  <canvas id="confetti"></canvas>

  <div class="hearts" id="hearts"></div>

  <header>
    <div class="nav">
      <div class="brand">
        <span style="font-size:18px">ğŸ’˜</span>
        <span>For <span id="herNameNav">Her</span></span>
        <span class="pill" id="datePill">Valentine Mode</span>
      </div>
      <nav style="display:flex; gap:6px; align-items:center;">
        <a href="#quiz">Quiz</a>
        <a href="#memories">Memories</a>
        <a href="#reveal">Final Reveal</a>
        <button class="btnGhost" id="musicBtn" title="Toggle music">ğŸµ Music: Off</button>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="card heroLeft">
        <div class="glow"></div>
        <h1>
          Hi <span id="herName">Anubhuti</span> ğŸ‘€<br/>
          I built you a tiny universe.
        </h1>
        <p class="sub">
          This is not a normal Valentine page. Itâ€™s a playful little â€œgameâ€ that ends with a grand surprise.
          Ready? Donâ€™t scroll too fast ğŸ˜„
        </p>

        <div class="actions">
          <button class="btnPrimary" id="startBtn">Start the Surprise âœ¨</button>
          <button class="btnGhost" id="valBtnYes">Yes, Iâ€™m your Valentine ğŸ’–</button>
          <button class="btnGhost noBtn" id="valBtnNo">No ğŸ™ƒ</button>
        </div>

        <div class="divider"></div>

        <div class="grid3">
          <div class="tile">
            <h3>ğŸ¯ Mission</h3>
            <p>Finish the quiz, unlock the reveal, and claim your prize.</p>
          </div>
          <div class="tile">
            <h3>ğŸ§  Difficulty</h3>
            <p>Easy. Because youâ€™re the genius here. Iâ€™m just the simp with a keyboard.</p>
          </div>
          <div class="tile">
            <h3>ğŸ”’ Privacy</h3>
            <p>Itâ€™s just a link. No login. No data stored. Only vibes.</p>
          </div>
        </div>

        <p class="tiny" style="margin-top:14px;">
          Tip: If youâ€™re viewing this at dinner, turn on music ğŸ˜‰
        </p>
      </div>

      <div class="card heroRight">
        <div class="mini">
          <p class="miniTitle">ğŸ’Œ A note from <span id="yourName1">Akhil</span></p>
          <p class="miniText" id="noteText">
            I wanted to do something that feels â€œusâ€ â€” fun, personal, and a little extra.
            So I made this. Keep going till the end ğŸ˜„
          </p>
        </div>

        <div class="mini">
          <p class="miniTitle">â³ Countdown (manual)</p>
          <p class="miniText">
            The surprise unlocks when you press <b>Final Reveal</b>.
          </p>
          <p class="miniText hint">Want a real countdown? Tell me and Iâ€™ll add it.</p>
        </div>

        <div class="mini">
          <p class="miniTitle">ğŸ—ºï¸ â€œUsâ€ highlights</p>
          <p class="miniText" id="highlights">
            â€¢ Our intense sessions ğŸ’­<br/>
            â€¢ Our parties & chaos mode ğŸ‰<br/>
            â€¢ Car rides with music ğŸš—ğŸ¶<br/>
            â€¢ Office moments only we understand ğŸ˜„
          </p>
        </div>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz" class="card quizWrap">
      <div class="centerTitle">
        <h2>ğŸ® Mini Relationship Quiz</h2>
        <span class="pill" id="scorePill">Score: 0/3</span>
      </div>
      <p class="sub" style="margin-top:0">
        Answer these 3 questions to unlock the final surprise button.
      </p>

      <div class="q" data-q="0">
        <strong>1) Whatâ€™s my favorite way to annoy you?</strong>
        <div class="opts">
          <button class="opt" data-correct="0">Stealing your fries</button>
          <button class="opt" data-correct="1">Saying â€œone last thingâ€¦â€ 17 times</button>
          <button class="opt" data-correct="0">Sending 9 voice notes</button>
        </div>
      </div>

      <div class="q" data-q="1">
        <strong>2) Pick our vibe:</strong>
        <div class="opts">
          <button class="opt" data-correct="0">CEO & CFO energy</button>
          <button class="opt" data-correct="1">Best friends who flirt</button>
          <button class="opt" data-correct="0">Two characters in a rom-com</button>
        </div>
      </div>

      <div class="q" data-q="2">
        <strong>3) Whatâ€™s the correct answer to â€œDo you know how much I love you?â€</strong>
        <div class="opts">
          <button class="opt" data-correct="0">Normal amount</button>
          <button class="opt" data-correct="0">Not sure</button>
          <button class="opt" data-correct="1">Infinity. And then some.</button>
        </div>
      </div>

      <div class="actions">
        <button class="btnGold" id="unlockBtn" disabled title="Finish the quiz first">
          ğŸ”“ Unlock Final Reveal
        </button>
        <span class="tiny" id="unlockHint">Finish all 3 to unlock.</span>
      </div>
    </section>

    <!-- MEMORIES -->
    <section id="memories" class="card" style="padding:18px;">
      <div class="centerTitle">
        <h2>ğŸ“¸ Our Memories</h2>
        <span class="pill">Tap a photo</span>
      </div>
      <p class="sub" style="margin-top:0">
        Upload your photos to GitHub in a folder named <b>photos</b>, and name them exactly like this:
        <b>1.jpg, 2.jpg, 3.jpg, 4.jpg, 5.jpg, 6.jpg, 7.jpg, 8.jpg</b>.
      </p>

      <div class="gallery" id="gallery">
        <!-- Your photos (local) -->
        <div class="shot"><img alt="Memory 1" src="photos/1.jpg"></div>
        <div class="shot"><img alt="Memory 2" src="photos/2.jpg"></div>
        <div class="shot"><img alt="Memory 3" src="photos/3.jpg"></div>
        <div class="shot"><img alt="Memory 4" src="photos/4.jpg"></div>
        <div class="shot"><img alt="Memory 5" src="photos/5.jpg"></div>
        <div class="shot"><img alt="Memory 6" src="photos/6.jpg"></div>
        <div class="shot"><img alt="Memory 7" src="photos/7.jpg"></div>
        <div class="shot"><img alt="Memory 8" src="photos/8.jpg"></div>
      </div>

      <div class="divider"></div>

      <div class="grid3">
        <div class="tile">
          <h3>ğŸ’– Reasons I love you</h3>
          <p id="reasons">
            â€¢ You make intense days feel lighter.<br/>
            â€¢ Your presence turns â€œwork modeâ€ into â€œfun mode.â€<br/>
            â€¢ Youâ€™re the calm + the chaos, perfectly.
          </p>
        </div>
        <div class="tile">
          <h3>ğŸ§  Inside jokes</h3>
          <p id="jokes">
            â€¢ â€œOne last thingâ€¦â€ (and itâ€™s never last) ğŸ˜„<br/>
            â€¢ Our party stories that should never leave us ğŸ¤«<br/>
            â€¢ That one car ride playlist moment ğŸ¶
          </p>
        </div>
        <div class="tile">
          <h3>ğŸ§­ Next adventure</h3>
          <p id="nextAdventure">
            â€¢ My next visit to India ğŸ‡®ğŸ‡³<br/>
            â€¢ Time together, no rushing<br/>
            â€¢ A plan Iâ€™m not telling you yet ğŸ˜ˆ
          </p>
        </div>
      </div>

      <p class="tiny" style="margin-top:14px;">
        If you want, I can add a â€œtimeline of usâ€ section too (super romantic).
      </p>
    </section>

    <!-- REVEAL -->
    <section id="reveal" class="card reveal">
      <h2>ğŸ Final Reveal</h2>
      <p class="big">
        This button stays locked until you finish the quiz.
        When it unlocksâ€¦ donâ€™t scream. (Actually scream. I like that.)
      </p>

      <div class="actions" style="justify-content:center;">
        <button class="btnPrimary" id="revealBtn" disabled>Open the Surprise ğŸ’¥</button>
      </div>

      <div class="secretBox" id="secretBox" style="display:none;">
        <p style="margin:0 0 8px;">
          <strong>Surprise Plan:</strong>
          <span id="surpriseText"></span>
        </p>
        <p style="margin:0;">
          <strong>Dress code:</strong> <span id="dressCode">Your usual stunning self âœ¨</span><br/>
          <strong>When:</strong> <span id="timeText">When I land ğŸ˜‰</span><br/>
          <strong>One rule:</strong> <span id="ruleText">You donâ€™t get to overthink this ğŸ˜„</span>
        </p>
        <p class="hint" style="margin-top:10px;">
          (Yes, Iâ€™m being dramatic on purpose.)
        </p>
      </div>
    </section>

  </main>

  <footer>
    Made with love, mischief, and an unreasonable amount of overthinking ğŸ’˜ â€” Akhil
  </footer>

  <!-- Image Modal -->
  <div class="modal" id="modal">
    <div class="modalInner">
      <button class="close" id="closeModal">âœ• Close</button>
      <img id="modalImg" alt="Expanded memory">
    </div>
  </div>

  <!-- Optional audio -->
  <audio id="bgm" loop>
    <!-- To enable music:
         1) Create a folder named "music"
         2) Upload your MP3 as "music.mp3" inside it
         3) Uncomment the line below -->
    <!-- <source src="music/music.mp3" type="audio/mpeg"> -->
  </audio>

  <script>
    /***************
     * QUICK CUSTOMIZE (already set for you)
     ***************/
    const CONFIG = {
      herName: "Anubhuti",
      yourName: "Akhil",
      dateLabel: "Akhil â¤ï¸ Anubhuti",
      noteText: "I wanted something fun, personal, and a little extra â€” because thatâ€™s us. So I built this tiny universe for you. Donâ€™t stop till the end ğŸ˜„",
      highlightsHTML: `
        â€¢ Our intense sessions ğŸ’­<br/>
        â€¢ Our parties & chaos mode ğŸ‰<br/>
        â€¢ Car rides with music ğŸš—ğŸ¶<br/>
        â€¢ Office moments only we understand ğŸ˜„
      `,
      reveal: {
        place: "my next visit to India",
        surprise: "Iâ€™m planning something special â€” proper time together, no rushing, no distractions. Just us.",
        dressCode: "Your usual stunning self âœ¨",
        time: "When I land ğŸ˜‰",
        rule: "You donâ€™t get to overthink this ğŸ˜„"
      }
    };

    // Apply config to UI
    document.getElementById("herName").textContent = CONFIG.herName;
    document.getElementById("herNameNav").textContent = CONFIG.herName;
    document.getElementById("yourName1").textContent = CONFIG.yourName;
    document.getElementById("datePill").textContent = CONFIG.dateLabel;
    document.getElementById("noteText").textContent = CONFIG.noteText;
    document.getElementById("highlights").innerHTML = CONFIG.highlightsHTML;

    /***************
     * FLOATING HEARTS
     ***************/
    const heartsWrap = document.getElementById("hearts");
    const heartEmojis = ["ğŸ’—","ğŸ’–","ğŸ’˜","ğŸ’","ğŸ’","ğŸ’•","â¤ï¸"];
    function spawnHeart(){
      const h = document.createElement("div");
      h.className = "heart";
      h.textContent = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
      const left = Math.random()*100;
      const dur = 8 + Math.random()*10;
      const size = 14 + Math.random()*18;
      h.style.left = left + "vw";
      h.style.bottom = "-40px";
      h.style.fontSize = size + "px";
      h.style.animationDuration = dur + "s";
      h.style.animationDelay = (Math.random()*2) + "s";
      heartsWrap.appendChild(h);
      setTimeout(()=> h.remove(), (dur+3)*1000);
    }
    for(let i=0;i<18;i++) setTimeout(spawnHeart, i*250);
    setInterval(spawnHeart, 650);

    /***************
     * START BUTTON SCROLL
     ***************/
    document.getElementById("startBtn").addEventListener("click", ()=>{
      document.getElementById("quiz").scrollIntoView({behavior:"smooth", block:"start"});
      burstConfetti();
    });

    /***************
     * "NO" BUTTON RUNS AWAY
     ***************/
    const noBtn = document.getElementById("valBtnNo");
    let noMoves = 0;
    function moveNoBtn(){
      noMoves++;
      const dx = (Math.random()*220 - 110);
      const dy = (Math.random()*140 - 70);
      noBtn.style.transform = `translate(${dx}px, ${dy}px) rotate(${(Math.random()*10-5)}deg)`;
      if(noMoves >= 6){
        noBtn.textContent = "Okay fine ğŸ˜­";
      }
    }
    noBtn.addEventListener("mouseenter", moveNoBtn);
    noBtn.addEventListener("click", moveNoBtn);

    document.getElementById("valBtnYes").addEventListener("click", ()=>{
      burstConfetti();
      alert(`Yay ğŸ˜„ Officially locked in, ${CONFIG.herName} ğŸ’–`);
    });

    /***************
     * QUIZ LOGIC
     ***************/
    const scorePill = document.getElementById("scorePill");
    const unlockBtn = document.getElementById("unlockBtn");
    const unlockHint = document.getElementById("unlockHint");
    const revealBtn = document.getElementById("revealBtn");

    const answers = [null, null, null];
    function updateScore(){
      const score = answers.filter(Boolean).length;
      scorePill.textContent = `Score: ${score}/3`;
      const done = answers.every(v => v !== null);
      const perfect = answers.every(v => v === true);

      unlockBtn.disabled = !(done && perfect);
      unlockBtn.title = unlockBtn.disabled ? "Get all correct to unlock ğŸ˜„" : "Unlocked!";
      unlockHint.textContent = done
        ? (perfect ? "Perfect score ğŸ˜¤ âœ…" : "So closeâ€¦ try again for 3/3 ğŸ˜„")
        : "Finish all 3 to unlock.";

      revealBtn.disabled = unlockBtn.disabled;
    }

    document.querySelectorAll(".q").forEach(qEl=>{
      const qIndex = Number(qEl.dataset.q);
      qEl.querySelectorAll(".opt").forEach(opt=>{
        opt.addEventListener("click", ()=>{
          qEl.querySelectorAll(".opt").forEach(o=> o.classList.remove("selected"));
          opt.classList.add("selected");

          const isCorrect = opt.dataset.correct === "1";
          answers[qIndex] = isCorrect;

          updateScore();
          if(isCorrect) burstConfetti(35);
        });
      });
    });

    unlockBtn.addEventListener("click", ()=>{
      burstConfetti();
      document.getElementById("reveal").scrollIntoView({behavior:"smooth", block:"start"});
    });

    /***************
     * REVEAL
     ***************/
    const secretBox = document.getElementById("secretBox");
    document.getElementById("revealBtn").addEventListener("click", ()=>{
      document.getElementById("surpriseText").innerHTML =
        `When Iâ€™m in India next, Iâ€™m stealing you for something special. <b>No rushing, no distractions.</b> ` +
        `Just us â€” and a plan Iâ€™m not telling you yet ğŸ˜ˆ`;

      document.getElementById("dressCode").textContent = CONFIG.reveal.dressCode;
      document.getElementById("timeText").textContent = CONFIG.reveal.time;
      document.getElementById("ruleText").textContent = CONFIG.reveal.rule;

      secretBox.style.display = "block";
      burstConfetti(220);
      pulseTitle("ğŸ Surprise Unlocked!");
    });

    function pulseTitle(text){
      const pill = document.getElementById("datePill");
      pill.textContent = text;
      pill.style.background = "rgba(56,239,125,.18)";
      pill.style.borderColor = "rgba(56,239,125,.35)";
      setTimeout(()=>{
        pill.textContent = CONFIG.dateLabel;
        pill.style.background = "rgba(255,255,255,.08)";
        pill.style.borderColor = "rgba(255,255,255,.12)";
      }, 3000);
    }

    /***************
     * GALLERY MODAL
     ***************/
    const modal = document.getElementById("modal");
    const modalImg = document.getElementById("modalImg");
    document.getElementById("closeModal").addEventListener("click", ()=> modal.classList.remove("open"));
    modal.addEventListener("click", (e)=> { if(e.target === modal) modal.classList.remove("open"); });

    document.querySelectorAll(".shot img").forEach(img=>{
      img.addEventListener("click", ()=>{
        modalImg.src = img.src;
        modal.classList.add("open");
      });
    });

    /***************
     * MUSIC TOGGLE (optional)
     ***************/
    const bgm = document.getElementById("bgm");
    const musicBtn = document.getElementById("musicBtn");
    let musicOn = false;

    musicBtn.addEventListener("click", async ()=>{
      if(!bgm.querySelector("source")){
        alert("To enable music: upload music/music.mp3 and uncomment the <source> line in the code ğŸµ");
        return;
      }
      try{
        if(!musicOn){
          await bgm.play();
          musicOn = true;
          musicBtn.textContent = "ğŸµ Music: On";
          burstConfetti(40);
        } else {
          bgm.pause();
          musicOn = false;
          musicBtn.textContent = "ğŸµ Music: Off";
        }
      }catch(err){
        console.log(err);
        alert("Audio blocked by browser. Try clicking again.");
      }
    });

    /***************
     * CONFETTI (simple canvas)
     ***************/
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    let W, H;
    function resize(){
      W = canvas.width = window.innerWidth * devicePixelRatio;
      H = canvas.height = window.innerHeight * devicePixelRatio;
    }
    window.addEventListener("resize", resize);
    resize();

    let particles = [];
    function burstConfetti(count=120){
      const cx = W/2, cy = H/3;
      for(let i=0;i<count;i++){
        particles.push({
          x: cx + (Math.random()*140-70)*devicePixelRatio,
          y: cy + (Math.random()*80-40)*devicePixelRatio,
          vx: (Math.random()*8-4)*devicePixelRatio,
          vy: (Math.random()*-10-3)*devicePixelRatio,
          g: (0.18 + Math.random()*0.18)*devicePixelRatio,
          r: (2 + Math.random()*4)*devicePixelRatio,
          a: 1,
          rot: Math.random()*Math.PI,
          vr: (Math.random()*0.2-0.1)
        });
      }
    }

    function tick(){
      ctx.clearRect(0,0,W,H);
      particles = particles.filter(p => p.a > 0);
      for(const p of particles){
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.vr;
        p.a -= 0.008;

        ctx.save();
        ctx.globalAlpha = Math.max(p.a,0);
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        ctx.fillStyle = "white";
        ctx.fillRect(-p.r*2, -p.r, p.r*4, p.r*2);
        ctx.restore();
      }
      requestAnimationFrame(tick);
    }
    tick();
    setTimeout(()=> burstConfetti(25), 900);
  </script>
</body>
</html>
